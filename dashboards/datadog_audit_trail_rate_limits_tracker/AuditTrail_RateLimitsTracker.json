{"title":"Audit Trail : Rate Limits Tracker","description":"Overview of Datadog rate limits being experienced by end-users\n\nHelps w/ requesting API limits bumps by determining which exact endpoint.s users are experiencing throttling with\n\ndatadog_demo_keep:true\n\n","widgets":[{"id":2492307481316648,"definition":{"title":"","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@http.url_details.path","sort":{"aggregation":"count","order":"desc"},"limit":5}]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false,"scale":"log"}},"layout":{"x":0,"y":0,"width":8,"height":4}},{"id":3711678009764366,"definition":{"title":"","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query1","cell_display_mode":"bar","limit":{"count":5,"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@http.url_details.path","sort":{"aggregation":"count","order":"desc"},"limit":5}]}]}]},"layout":{"x":8,"y":0,"width":4,"height":4}},{"id":3061786562881886,"definition":{"title":"","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query2"}],"response_format":"timeseries","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query2","indexes":["*"],"group_by":[{"facet":"@usr.email","sort":{"aggregation":"count","order":"desc"},"limit":5}]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false,"scale":"log"}},"layout":{"x":0,"y":4,"width":8,"height":4}},{"id":1739050884423980,"definition":{"title":"","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query2","cell_display_mode":"bar","limit":{"count":5,"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query2","indexes":["*"],"group_by":[{"facet":"@usr.email","sort":{"aggregation":"count","order":"desc"},"limit":5}]}]}]},"layout":{"x":8,"y":4,"width":4,"height":4}},{"id":573914603384902,"definition":{"title":"","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query2","cell_display_mode":"bar","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query2","indexes":["*"],"group_by":[{"facet":"@http.useragent","sort":{"aggregation":"count","order":"desc"},"limit":10}]}]}]},"layout":{"x":0,"y":8,"width":12,"height":3}},{"id":4590513829661938,"definition":{"type":"note","content":"![png-map-api](https://geomap-api.herokuapp.com/api/geomap/png?ip=$ip.value&zoom=10)","background_color":"white","font_size":"12","text_align":"center","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":false},"layout":{"x":0,"y":11,"width":4,"height":4}},{"id":7878877522673930,"definition":{"type":"note","content":"![png-map-api](https://geomap-api.herokuapp.com/api/geomap/png?ip=$ip.value&zoom=6)","background_color":"white","font_size":"12","text_align":"center","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":false},"layout":{"x":4,"y":11,"width":4,"height":4}},{"id":6959635438635992,"definition":{"type":"note","content":"![png-map-api](https://geomap-api.herokuapp.com/api/geomap/png?ip=$ip.value&zoom=2)","background_color":"white","font_size":"12","text_align":"center","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":false},"layout":{"x":8,"y":11,"width":4,"height":4}},{"id":5420003266512794,"definition":{"title":"","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query2","cell_display_mode":"bar","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"@http.status_code:429 $usr.email $http.url_details.path $ip $ip"},"data_source":"audit","compute":{"aggregation":"count"},"name":"query2","indexes":["*"],"group_by":[{"facet":"@network.client.ip","sort":{"aggregation":"count","order":"desc"},"limit":10}]}]}]},"layout":{"x":0,"y":15,"width":3,"height":3}},{"id":3929832310333572,"definition":{"title":"","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"avg:synthetics.browser.step.duration{*} by {check_id,start_url,location}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"has_search_bar":"always"},"layout":{"x":3,"y":15,"width":9,"height":3}},{"id":490176503517056,"definition":{"title":"","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"$ip $usr.email $http.url_details.path @http.status_code:429","data_source":"audit_stream"},"response_format":"event_list","columns":[{"field":"timestamp","width":"auto"},{"field":"status","width":"auto"},{"field":"@http.status_code","width":"auto"},{"field":"@http.method","width":"auto"},{"field":"@http.url_details.path","width":"auto"},{"field":"@usr.email","width":"auto"},{"field":"@auth_method","width":"auto"},{"field":"@network.client.ip","width":"auto"}]}],"type":"list_stream"},"layout":{"x":0,"y":18,"width":12,"height":4}}],"template_variables":[{"name":"http.url_details.path","default":"*","prefix":"@http.url_details.path","available_values":[]},{"name":"usr.email","default":"*","prefix":"@usr.email","available_values":[]},{"name":"ip","default":"*","prefix":"@network.client.ip","available_values":[]}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"reflow_type":"fixed","id":"s5c-raf-vtb"}