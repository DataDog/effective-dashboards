{"title":"Datadog Usage Metrics","description":"This dashboard provides an overview of the different usage metrics for Datadog. These are usage metrics, not billing metrics, and they **do not correlate 100% to billing**. These should only be used as a proxy to identify trends.\n\nThose metrics can also be used to identify the biggest consumers with a selected tag.\n\n## Disclaimer\n\nThis is a community contributed dashboard and not supported by Datadog. For any change request or issues, follow our [contributing guidelines](https://github.com/DataDog/effective-dashboards/blob/main/CONTRIBUTING.md).\n\nAll the information provided here have been copied from the doc at a specific date and are here for indications. They are subject to changes, please refer to the link provided for official information.","widgets":[{"id":4084350815977308,"definition":{"type":"note","content":"# Billing\n\nTo get started: [Account Management / Billing Doc](https://docs.datadoghq.com/account_management/billing)\n\nThis dashboard provides an overview of the different usage metrics for Datadog. These are usage metrics, not billing metrics, and they **do not correlate 100% to billing**. These should only be used as a proxy to identify trends.\n\nThose metrics can also be used to identify the biggest consumers with a selected tag.\n\n## Disclaimer\n\nAll the information provided here have been copied from the doc at a specific date and are here for indications. They are subject to changes, please refer to the link provided for official information.","background_color":"purple","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":5,"height":5}},{"id":4254318633676600,"definition":{"type":"note","content":"## Usage\n\nUsage is reported into the platform on a daily basis.\n\n[Usage page](/billing/usage)\n\n## Multi-org usage\n\nIn the [Usage page](/billing/usage), click on \"Individual Organizations\" tab to get a list of usage per sub-organization.","background_color":"purple","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":5,"y":0,"width":3,"height":5}},{"id":629553500553528,"definition":{"type":"image","url":"https://imgix.datadoghq.com/img/about/presskit/logo-v/dd_vertical_white.png?auto=format&fit=max&w=847","sizing":"zoom"},"layout":{"x":8,"y":0,"width":4,"height":5}},{"id":1887760127888126,"definition":{"title":"Host","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":743368180622248,"definition":{"type":"note","content":"## Host billing (doc)\n\n> A host is a physical or virtual operating system instance. Each hour, Datadog records the number of unique hosts you are monitoring in the Infrastructure service.\n> - On a high watermark plan (HWMP), these hourly measurements are ordered from highest to lowest at the end of the month, and Datadog charges based on the eighth highest measurement.\n> - On a hybrid monthly/hourly plan (MHP), Datadog charges your minimum monthly commitment, and for any host hours above that commitment, Datadog charges an hourly rate.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/)\n\n> \"Hosts are defined as any instances with the Datadog Agent installed plus any AWS EC2s, GCP, Azure, or vSphere VMs monitored with our integrations. Any EC2s or VMs with the Agent installed count as a single instance (no double-billing).  \n> Non-reporting hosts (status ??? in your Infrastructure list) do not count towards billing. It could take up to 2 hours for these hosts to drop out of the Infrastructure List. Datadog retains the historical data for these hosts (paid accounts). Metrics can be graphed on a dashboard by knowing the specific host name or tags.\"\n\n[Documentation](https://docs.datadoghq.com/account_management/billing)\n\n\n### Cloud Hosts\n\nBy default the hosts, serverless functions, etc. in AWS, Azure or GCP that do not have an agent are monitored. [Resource exclusion](https://docs.datadoghq.com/account_management/billing/aws/#aws-resource-exclusion) is available to filter what to monitor.\n\n**Best practice**: It is advised to install an agent for more granularity and to be able to add additional integrations.\n\n### Warnings\n\n- In your widgets, make sure to count every hosts only once. *An example has been given for reference*","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":14}},{"id":124506918852414,"definition":{"type":"note","content":"Estimated usage metric\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/usage_metrics/)\n\n*Note: \"These usage metrics are estimates that won’t always match up to billable usage given their real-time nature. There is a 10-20% difference between estimated usage and billable usage on average.\"*","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":6065491522374862,"definition":{"title":"(Estimated) Host Count vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.hosts{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.hosts{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}},{"id":7974687268788044,"definition":{"type":"note","content":"Running Agents\n\n```\ndatadog.agent.running\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":2,"width":3,"height":2}},{"id":1660053589022930,"definition":{"title":"Agent Running vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.agent.running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.agent.running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":2,"width":5,"height":2}},{"id":2906241827615854,"definition":{"type":"note","content":"EC2 Hosts\n\n```\naws.ec2.host_ok\n```\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":4,"width":3,"height":2}},{"id":7656275962450462,"definition":{"title":"EC2 Instances vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ec2.host_ok{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:aws.ec2.host_ok{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":4,"width":5,"height":2}},{"id":7951630306043357,"definition":{"type":"note","content":"Running Heroku Dynos\n\n```\ndatadog.heroku_agent.running\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":6,"width":3,"height":2}},{"id":287755315459134,"definition":{"title":"Heroku Dynos Running vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.heroku_agent.running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.heroku_agent.running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":6,"width":5,"height":2}},{"id":2582256065658366,"definition":{"type":"note","content":"GCE Running Instances\n\n```\ngcp.gce.instance.is_running\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":8,"width":3,"height":2}},{"id":4895386950432284,"definition":{"title":"GCE Instances Running vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:gcp.gce.instance.is_running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:gcp.gce.instance.is_running{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":8,"width":5,"height":2}},{"id":3770839418523520,"definition":{"type":"note","content":"Azure VM Instance\n\nFor each Azure VM instance monitored `azure.vm.count`: Status of Azure VM. This metric is tagged with status:running, status:not_running, or status:unknown.\n\nOnly select status:running and status:unknown\n\nIf you destroy your Azure VM, it phases out of your infrastructure list within 3 hours.\n\n[Billing](https://docs.datadoghq.com/integrations/faq/azure-status-metric/)\n\n[Metric description](https://docs.datadoghq.com/integrations/faq/azure-status-metric/)","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":10,"width":3,"height":2}},{"id":1380965756850872,"definition":{"title":"Azure VMs /Status","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"sum:azure.vm.count{$env,$service,$team} by {status}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":10,"width":5,"height":2}},{"id":6274602541092164,"definition":{"type":"note","content":"Azure App Services underlying resources\n\n```\nazure.web_serverfarms.current_instance_count\n```\n\nLook for status:running only","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":12,"width":3,"height":2}},{"id":2976063109981938,"definition":{"title":"ServerFarm Instances /Status vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:azure.web_serverfarms.current_instance_count{$env,$service,$team} by {status}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:azure.web_serverfarms.current_instance_count{$env,$service,$team} by {status}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":12,"width":5,"height":2}}]},"layout":{"x":0,"y":5,"width":12,"height":15}},{"id":8566585916436340,"definition":{"title":"APM","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":1488625799963924,"definition":{"type":"note","content":"## APM Billing (doc)\n\n\n#### Hosts\n\n> Datadog records the number of unique APM hosts you are monitoring in the Datadog APM service each hour.  \n> On a high watermark plan (HWMP), these hourly measurements are ordered from highest to lowest at the end of the month, and Datadog charges based on the eighth highest measurement.  \n> On a hybrid monthly/hourly plan (MHP), Datadog charges your minimum monthly commitment, and for any host hours above that commitment, Datadog charges an hourly rate.\n\n> An Analyzed Span is an individual request against an individual service in your stack. Datadog charges based on the total number of Analyzed Spans submitted to the Datadog APM service.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/#apm)\n","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":4}},{"id":6793958591481426,"definition":{"type":"note","content":"Estimated usage metric\n\n```datadog.estimated_usage.apm_hosts```\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/usage_metrics/)\n\n*Note: \"These usage metrics are estimates that won’t always match up to billable usage given their real-time nature. There is a 10-20% difference between estimated usage and billable usage on average.\"*\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":2,"height":2}},{"id":746844126883672,"definition":{"title":"(Estimated) APM Hosts vs Month Before","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"on_right_yaxis":false,"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.apm_hosts{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.apm_hosts{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":0,"width":6,"height":2}},{"id":7455179457476052,"definition":{"type":"note","content":"APM Hosts\n\n```datadog.apm.host_instance```\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":2,"width":2,"height":2}},{"id":6149885265611050,"definition":{"title":"APM Hosts vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.apm.host_instance{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.apm.host_instance{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":2,"width":6,"height":2}},{"id":8397896598622270,"definition":{"type":"note","content":"#### Spans\n\n> An Ingested span is an individual request against an individual service in your stack. Datadog charges based on the total number of gigabytes of spans ingested to Datadog at the end of the month. \n\n> An Indexed span is an individual request against an individual service in your stack. Datadog charges based on the total number of spans indexed via retention filters or legacy Analyzed Spans to the Datadog APM service at the end of the month.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/apm_distributed_tracing/)","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":4,"width":4,"height":4}},{"id":1142128691227532,"definition":{"type":"note","content":"Ingestion \n\n```\ndatadog.estimated_usage.apm.ingested_bytes\n```\n\n[Ingestion Rate](/apm/traces/ingestion-control)","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":4,"width":2,"height":2}},{"id":8429188784560462,"definition":{"title":"Ingested Span Volume vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"on_right_yaxis":false,"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.apm.ingested_bytes{$env,$service,$team}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.apm.ingested_bytes{$env,$service,$team}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":4,"width":4,"height":2}},{"id":445452278514664,"definition":{"title":"Ingested Span Volume /Env&Service","type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:datadog.estimated_usage.apm.ingested_bytes{$env,$service,$team} by {env,service}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}]},"layout":{"x":10,"y":4,"width":2,"height":2}},{"id":2364341247950536,"definition":{"type":"note","content":"Indexation\n\n```\ndatadog.estimated_usage.apm.indexed_spans\n```\n\n[Retention](/apm/traces/retention-filters)","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":6,"width":2,"height":2}},{"id":8228177573479710,"definition":{"title":"Total Indexed Spans (Billable) vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.apm.indexed_spans{$env,$service,$team}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.apm.indexed_spans{$env,$service,$team}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":6,"width":4,"height":2}},{"id":1781126798347628,"definition":{"title":"Total Indexed Spans (Billable) /Env&Service","type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:datadog.estimated_usage.apm.indexed_spans{$env,$service,$team} by {env,service}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}]},"layout":{"x":10,"y":6,"width":2,"height":2}}]},"layout":{"x":0,"y":20,"width":12,"height":9}},{"id":8489222179594442,"definition":{"title":"Containers / Fargate","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":1862031273245206,"definition":{"type":"note","content":"## Container Billing (doc)\n\n> A container is a self-contained operating environment that includes application software and limited operating system libraries and settings. Once every five minutes, Datadog records the number of unique containers you are monitoring in the Datadog Infrastructure service. Datadog charges monthly based on the fractional hours of monitored containers.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/)\n\n#### Quota\n\nDepending on your contract, a container quota is available based on the number of hosts.\n\n> \"The Datadog Agent runs in a container alongside any number of other containers on a host. From there it can collect metrics from its neighboring containers and from the host itself. Depending on your plan, you can monitor 10 or 20 containers free for each host license.\n\n> Additional containers will be billed at $0.002 per container per hour. In addition, you can purchase prepaid containers at $1 per container per month.\"\n\n[Pricing page](https://www.datadoghq.com/pricing/#section-cq)","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":8}},{"id":3404473006208988,"definition":{"type":"note","content":"Estimated usage metric\n\n```\ndatadog.estimated_usage.containers\n```\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/usage_metrics/)\n\n*Note: \"These usage metrics are estimates that won’t always match up to billable usage given their real-time nature. There is a 10-20% difference between estimated usage and billable usage on average.\"*","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":8009319317069910,"definition":{"title":"(Estimated) Containers vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.containers{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.containers{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}},{"id":238995710825884,"definition":{"type":"note","content":"Count Container IDs\n\n```\ncount_not_null(sum:docker.cpu.system{*} by {container_id})\n```\n\n*Note: This metric is accurate on a short time periods. On larger time period selected it starts to diverge from the actual value. This is due to the fact that `count_not_null` is applied at the end. There is a first a time aggregation where we collect the list of all containers and then we apply the count_not_null function.*\n\n*Note: This metric is extremely inaccurate on a large scale when the containers are restarting often.*","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":2,"width":3,"height":2}},{"id":6831047388736994,"definition":{"title":"Count of Container IDs vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"count_not_null(query1)"}],"response_format":"timeseries","queries":[{"query":"avg:docker.cpu.system{$env,$service,$team} by {container_id}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(count_not_null(query1))"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"avg:docker.cpu.system{$env,$service,$team} by {container_id}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":2,"width":5,"height":2}},{"id":4498885971870344,"definition":{"type":"note","content":"The total number of containers running on this host\n\n```\ndatadog.containers.running.total\n```\n\n*Note: The docker.containers.running, .stopped, .running.total and .stopped.total metrics are not affected by the include and exclude settings. All containers are counted. This does not affect your per-container billing.*","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":4,"width":3,"height":2}},{"id":3408212227793678,"definition":{"title":"Count Containers Running vs Month Before (including untracked ones)","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"sum:docker.containers.running.total{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:docker.containers.running.total{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":4,"width":5,"height":2}},{"id":5155818690926820,"definition":{"type":"note","content":"Fargate has a different pricing model than a container.\n\nCount of Fargate Tasks\n\n```\ncount_not_null(count:ecs.fargate.cpu.system{$env,$service} by {task_arn,ecs_task_family})\n```\n\n> An AWS Fargate task is a collection of containers setup through AWS’s ECS container orchestration platform. Datadog records the number of task instances you are monitoring in the Datadog Infrastructure (or APM) service at five-minute intervals. Datadog aggregates the interval-based measurements at the end of the month and charges you based on the total number of hours your applications were run and monitored.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/)\n\n*Note: This metric is extremely inaccurate on a large scale when the containers are restarting often.*","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":6,"width":3,"height":2}},{"id":1130644170297436,"definition":{"title":"Count Fargate Tasks vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"count_not_null(query1)"}],"response_format":"timeseries","queries":[{"query":"count:ecs.fargate.cpu.system{$env,$service,$team} by {task_arn,ecs_task_family}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(count_not_null(query1))"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"count:ecs.fargate.cpu.system{$env,$service,$team} by {task_arn,ecs_task_family}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":6,"width":5,"height":2}}]},"layout":{"x":0,"y":29,"width":12,"height":9}},{"id":6735644950274998,"definition":{"title":"Lambda / Cloud Functions","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":3298171554579974,"definition":{"type":"note","content":"## Cloud Function Billing (doc)\n\n> A cloud function is application code setup to execute on a cloud platform’s serverless compute service in response to defined events or actions (for example, AWS Lambda, Google Cloud Function, and Azure Function). The Datadog Infrastructure service records the number of functions executed or invoked one or more times each hour. Datadog charges based on the average number of functions across all hours in a month.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/)","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":4}},{"id":829517112208066,"definition":{"type":"note","content":"Estimated usage metric\n\n```\ndatadog.estimated_usage.serverless.aws_lambda_functions\n```\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/usage_metrics/)\n\n**Note**: \"These usage metrics are estimates that won’t always match up to billable usage given their real-time nature. There is a 10-20% difference between estimated usage and billable usage on average.\"\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":5445115828137266,"definition":{"title":"(Estimated) Function Count vs Month Before","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"ewma_10(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.serverless.aws_lambda_functions{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"ewma_10(month_before(query1))"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.serverless.aws_lambda_functions{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}},{"id":4453682807648138,"definition":{"type":"note","content":"Count of functions\n\nFor each lambda `aws.lambda.invocations`: Measures the number of times a function is invoked in response to an event or invocation API call.\n\nNote: We will need to get the `count_not_null` of the metric split by multiple lambda tags.","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":2,"width":3,"height":2}},{"id":7232460546750914,"definition":{"title":"Count of functions","show_legend":false,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"count_not_null(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:aws.lambda.invocations{$env,$service,$team} by {functionname,aws_account,region}.as_count().rollup(avg, 3600)","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":2,"width":5,"height":2}}]},"layout":{"x":0,"y":38,"width":12,"height":5,"is_column_break":true}},{"id":840996024540636,"definition":{"title":"Logs","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":3986413973447180,"definition":{"type":"note","content":"## Log Billing (doc)\n\n> A log is a text-based record of activity generated by an operating system, an application, or by other sources. Datadog charges for ingested logs based on the total number of gigabytes submitted to the Datadog Logs service.\n\n> A log event is a log that is indexed by the Datadog Logs service. Datadog charges per million log events submitted for indexing at the rate designated for the retention policy you selected.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/#log-management)\n\n### Detailed Log Usage Dashboard\n\nThere is a detailed [out-of-the-box Log Usage dashboard](/dash/integration/logs_estimated_usage).\n","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":6}},{"id":1083364471501248,"definition":{"title":"Cumulative Ingested Bytes /Index&Service","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"cumsum(sum:datadog.estimated_usage.logs.ingested_bytes{$env,$service,$team} by {service,datadog_index}.as_count())","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":8293323425068346,"definition":{"title":"Cumulative Indexed Logs /Index&Service","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"cumsum(sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false,$env,$service,$team} by {service,datadog_index}.as_count())","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":1126881128481030,"definition":{"title":"Ingested Logs /Service&Index","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.logs.ingested_bytes{*,$env,$service,$team} by {service,datadog_index}.as_count(), 10, \"sum\", \"desc\")"}]},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":2877951932518650,"definition":{"title":"Indexed Logs /Service&Index","type":"toplist","requests":[{"q":"top(sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false,*,$env,$service,$team} by {datadog_index,service}.as_count(), 10, \"sum\", \"desc\")"}]},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":5033998018935268,"definition":{"title":"Ingested Logs Increase /Service&Index - vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"(sum:datadog.estimated_usage.logs.ingested_bytes{$env,$service,$team} by {service,datadog_index}.as_count() - month_before(sum:datadog.estimated_usage.logs.ingested_bytes{$env,$service,$team} by {service,datadog_index}.as_count())) / month_before(sum:datadog.estimated_usage.logs.ingested_bytes{$env,$service,$team} by {service,datadog_index}.as_count()) * 100","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"value":"y > 20","display_type":"warning dashed"},{"value":"y < -20","display_type":"warning dashed"}]},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":4717413135468620,"definition":{"title":"Indexed Logs Increase /Service&Index - vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"(sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false,$env,$service,$team} by {datadog_index,service}.as_count() - month_before(sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false,$env,$service,$team} by {datadog_index,service}.as_count())) / month_before(sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false,$env,$service,$team} by {datadog_index,service}.as_count()) * 100","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"value":"y > 20","display_type":"warning dashed"},{"value":"y < -20","display_type":"warning dashed"}]},"layout":{"x":8,"y":4,"width":4,"height":2}}]},"layout":{"x":0,"y":43,"width":12,"height":7}},{"id":3152933899103774,"definition":{"title":"Synthetics","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":6683110547186196,"definition":{"type":"note","content":"## Synthetics Billing (doc)\n\n> An API test is an HTTP or HTTPS request against a single URL. Datadog charges per ten thousand API tests runs executed to the Datadog Synthetics service.\n\n> A browser test is a simulation of a scripted sequence of user actions on a web-based application using a virtualized web browser. Datadog charges per thousand browser tests executed to the Datadog Synthetics service.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/#log-management)","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":6}},{"id":7733988370050768,"definition":{"type":"note","content":"API Response Count\n\n```\nsynthetics.api.response\n```\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":4432726450894550,"definition":{"title":"API Response Count /Env&Service&Team","show_legend":false,"type":"timeseries","requests":[{"q":"top(sum:synthetics.api.response{$env,$service,$team} by {env,service,team}.rollup(sum), 10, \"sum\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}},{"id":4724724006990386,"definition":{"type":"note","content":"Http Response Count\n\n```\nsynthetics.http.response\n```\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":2,"width":3,"height":2}},{"id":4765725226041034,"definition":{"title":"Http Response /Env&Service&Team","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:synthetics.http.response{$env,$service,$team} by {env,service,team}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":2,"width":5,"height":2}},{"id":1763517007471896,"definition":{"type":"note","content":"Browser Test Duration\n\n```\nsynthetics.browser.test_duration\n````\n\nNote: We will need to get the `count_not_null` from this metric by `check_id`. This does not take into consideration tests above 40 steps.","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":4,"width":3,"height":2}},{"id":7250577476006836,"definition":{"title":"Count of Browser Check ID /CheckID","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"q":"count_not_null(avg:synthetics.browser.number_of_buckets{$env,$service,$team} by {check_id}.as_count())","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"q":"month_before(count_not_null(avg:synthetics.browser.number_of_buckets{$env,$service,$team} by {check_id}.as_count()))","on_right_yaxis":false,"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":4,"width":5,"height":2}},{"id":4685486711666672,"definition":{"title":"API test count vs week before","type":"change","requests":[{"formulas":[{"formula":"week_before(query1)"},{"formula":"query1"}],"order_by":"present","order_dir":"desc","response_format":"scalar","queries":[{"query":"sum:datadog.estimated_usage.synthetics.api_test_runs{$env,$service,$team} by {team,check_id}.rollup(sum).as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}],"change_type":"absolute"}]},"layout":{"x":0,"y":6,"width":6,"height":3}},{"id":5023700599774000,"definition":{"title":"Browser test count vs week before","type":"change","requests":[{"formulas":[{"formula":"week_before(query1)"},{"formula":"query1"}],"order_by":"present","order_dir":"desc","response_format":"scalar","queries":[{"query":"sum:datadog.estimated_usage.synthetics.browser_test_runs{$env,$service,$team} by {team,check_id}.rollup(sum).as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}],"change_type":"absolute"}]},"layout":{"x":6,"y":6,"width":6,"height":3}}]},"layout":{"x":0,"y":50,"width":12,"height":10}},{"id":6352327327782420,"definition":{"title":"Network","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":4424889374084300,"definition":{"type":"note","content":"## Network (NPM) Billing (doc)\n\n>  Datadog records the number of Network Performance Monitoring (NPM) hosts you are concurrently monitoring with the Datadog NPM service once per hour.\n> These hourly measurements are ordered from highest to lowest at the end of the month, and Datadog charges based on the eighth-highest measurement.\n> Additionally, Datadog measures the total number of flows used by all NPM hosts per month. A flow is a record of traffic sent and received between a source (IP:Port) and destination (IP:Port), as measured over a five-minute time period.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/#network-performance-monitoring)\n","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":5}},{"id":217947588934228,"definition":{"type":"note","content":"Reporting NPM hosts\n\n```\ndatadog.system_probe.agent.network_tracer\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":2893254803215618,"definition":{"title":"NPM hosts vs Month Before","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.system_probe.agent.network_tracer{$env,$service,$team} by {env}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query0)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.system_probe.agent.network_tracer{$env,$service,$team} by {env}","data_source":"metrics","name":"query0"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}},{"id":6957082037104854,"definition":{"title":"NPM hosts /env/service","type":"treemap","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"query":"sum:datadog.system_probe.agent.network_tracer{$env,$service,$team} by {env,service}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]},"layout":{"x":4,"y":2,"width":8,"height":3}}]},"layout":{"x":0,"y":60,"width":12,"height":6}},{"id":4866690865960478,"definition":{"title":"RUM","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":3998614339284760,"definition":{"type":"note","content":"## RUM Billing (doc)\n\n>  A session is a user journey on your web application. It expires after either 15 minutes of inactivity, or 4 hours of continuous activity.\n\n> Datadog collects all the pages visited by your end users along with the telemetry that matters: resources loading (XHRs, images, CSS files, JS scripts, etc), frontend errors, and long tasks. All of this is included in the user session. Datadog charges per ten thousand (10,000) sessions ingested in the Datadog Real User Monitoring (RUM) service.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/#real-user-monitoring)\n","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":4}},{"id":8247342304383262,"definition":{"type":"note","content":"RUM Sessions (all)\n\n```\n@type:session\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":2,"height":4}},{"id":7963750936439816,"definition":{"title":"Total sessions","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":6,"y":0,"width":2,"height":2}},{"id":4961806581042328,"definition":{"title":"RUM Sessions vs Week Before","title_size":"16","title_align":"left","type":"change","requests":[{"formulas":[{"formula":"week_before(query1)"},{"formula":"query1"}],"order_by":"change","order_dir":"asc","response_format":"scalar","show_present":false,"queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@application.id","sort":{"aggregation":"count","order":"desc"},"limit":10}]}],"change_type":"absolute"}]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":8573223312175788,"definition":{"title":"RUM Sessions vs Week Before","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@application.id","sort":{"aggregation":"count","order":"desc"},"limit":10}]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"week_before(query0)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query0","indexes":["*"],"group_by":[{"facet":"@application.id","sort":{"aggregation":"count","order":"desc"},"limit":10}]}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":2,"width":6,"height":2}},{"id":4916470748267928,"definition":{"title":"Sessions per source","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"alias":"count","limit":{"count":100,"order":"desc"},"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@application.id","sort":{"aggregation":"count","order":"desc"},"limit":10},{"facet":"source","sort":{"aggregation":"count","order":"desc"},"limit":10}]}]}]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":3390957186589188,"definition":{"type":"note","content":"RUM Sessions by type\n\n```\n@type:resource source:browser - count unique sessions\n```\n```\n@type:session source:browser\n```\n\n```\n@type:session -source:browser\n```","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":4,"width":2,"height":4}},{"id":7492310205559166,"definition":{"title":"Mobile sessions","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service -source:browser $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":6,"y":4,"width":3,"height":2}},{"id":671070711206826,"definition":{"title":"Browser session with resources","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:resource $env $service source:browser $team"},"data_source":"rum","compute":{"metric":"@session.id","aggregation":"cardinality"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":9,"y":4,"width":3,"height":2}},{"id":5355499130536258,"definition":{"title":"Sessions per source and SDK","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"alias":"count","limit":{"count":1000,"order":"desc"},"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@application.id","sort":{"aggregation":"count","order":"desc"},"limit":10},{"facet":"sdk_version","sort":{"aggregation":"count","order":"desc"},"limit":10},{"facet":"source","sort":{"aggregation":"count","order":"desc"},"limit":10}]}]}]},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":771308728263964,"definition":{"title":"Browser sessions with replay","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service source:browser @session.has_replay:true $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":6,"y":6,"width":3,"height":2}},{"id":921799845432338,"definition":{"title":"Browser session without resources","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1 - query2"}],"response_format":"scalar","queries":[{"search":{"query":"@type:session $env $service source:browser $team"},"data_source":"rum","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]},{"search":{"query":"@type:resource $env $service source:browser $team"},"data_source":"rum","compute":{"metric":"@session.id","aggregation":"cardinality"},"name":"query2","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":9,"y":6,"width":3,"height":2}}]},"layout":{"x":0,"y":66,"width":12,"height":9}},{"id":3963123905598770,"definition":{"title":"Custom Metrics","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":6091778815389034,"definition":{"type":"note","content":"## Custom Metrics (doc)\n\n> A custom metric is a single, unique combination of a metric name, host ID and any tags. Datadog charges based on the monthly average of unique custom metrics submitted to the Datadog Infrastructure service per hour.\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/pricing/)\n\n#### Reduce Custom Metric Count\n\nTo identify the biggest contributors to your custom metric count, check the bottom of your [usage page](/account/usage#billing_avg_metrics).\n\nThen go to the [metric summary page](/metric/summary), find your metric and sort that tags by \"count\". This will give you an idea of the tags contributing the most to the cardinality.","background_color":"blue","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":3741369118873596,"definition":{"type":"note","content":"Estimated usage metric\n\n[Documentation](https://docs.datadoghq.com/account_management/billing/usage_metrics/)\n\n*Note: \"These usage metrics are estimates that won’t always match up to billable usage given their real-time nature. There is a 10-20% difference between estimated usage and billable usage on average.\"*\n","background_color":"gray","font_size":"14","text_align":"left","show_tick":true,"tick_pos":"50%","tick_edge":"right"},"layout":{"x":4,"y":0,"width":3,"height":2}},{"id":7868462685244312,"definition":{"title":"(Estimated) Custom Metric Count vs Month Before","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:datadog.estimated_usage.metrics.custom{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"month_before(query1)"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:datadog.estimated_usage.metrics.custom{$env,$service,$team}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":7,"y":0,"width":5,"height":2}}]},"layout":{"x":0,"y":75,"width":12,"height":3}}],"template_variables":[{"name":"env","default":"*","prefix":"env","available_values":[]},{"name":"service","default":"*","prefix":"service","available_values":[]},{"name":"team","default":"*","prefix":"team","available_values":[]}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"reflow_type":"fixed","id":"5tf-y55-e3b"}